{"ast":null,"code":"export function fetchSuccess(key) {\n  return {\n    type: 'PERSONS_FETCH_DATA_SUCCESS',\n    key\n  };\n}\nexport function authorisation(url, data) {\n  return dispatch => {\n    return fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: new Headers({\n        'Content-Type': 'application/json'\n      })\n    }).then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n\n      return response;\n    }).then(response => response.json()).then(data => console.log(data)).then(key => dispatch(testSuccsess(key)));\n  };\n} // post('/auth', {login: 'Login', password:'4'})\n//   .then(data => console.log(data))      // обрабатываем результат вызова response.json()\n//   .catch(error => console.error(error))\n//\n// function post(url, data) {\n//   return fetch(url, {\n//     credentials: 'same-origin',  // параметр определяющий передвать ли разные сессионные данные вместе с запросом\n//     method: 'POST',              // метод POST\n//     body: JSON.stringify(data),  // типа запрашиаемого документа\n//     headers: new Headers({\n//       'Content-Type': 'application/json'\n//     }),\n//   })\n//   .then(response => response.json()) // возвращаем промис\n// }","map":{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\Проект TENSOR\\Social_network_1\\client\\demo\\fox-net\\src\\actions\\test2.js"],"names":["fetchSuccess","key","type","authorisation","url","data","dispatch","fetch","method","body","JSON","stringify","headers","Headers","then","response","ok","Error","statusText","json","console","log","testSuccsess"],"mappings":"AAAA,OAAO,SAASA,YAAT,CAAsBC,GAAtB,EAA0B;AAC/B,SAAO;AACLC,IAAAA,IAAI,EAAE,4BADD;AAELD,IAAAA;AAFK,GAAP;AAID;AAED,OAAO,SAASE,aAAT,CAAuBC,GAAvB,EAA4BC,IAA5B,EAAiC;AACtC,SAAQC,QAAD,IAAc;AACnB,WAAOC,KAAK,CAACH,GAAD,EAAM;AAChBI,MAAAA,MAAM,EAAE,MADQ;AAEhBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf,CAFU;AAGhBO,MAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACnB,wBAAgB;AADG,OAAZ;AAHO,KAAN,CAAL,CAONC,IAPM,CAODC,QAAQ,IAAG;AACf,UAAG,CAACA,QAAQ,CAACC,EAAb,EAAgB;AACd,cAAM,IAAIC,KAAJ,CAAUF,QAAQ,CAACG,UAAnB,CAAN;AACD;;AACD,aAAOH,QAAP;AACD,KAZM,EAaND,IAbM,CAaDC,QAAQ,IAAIA,QAAQ,CAACI,IAAT,EAbX,EAcNL,IAdM,CAcDT,IAAI,IAAIe,OAAO,CAACC,GAAR,CAAYhB,IAAZ,CAdP,EAeNS,IAfM,CAeDb,GAAG,IAAIK,QAAQ,CAACgB,YAAY,CAACrB,GAAD,CAAb,CAfd,CAAP;AAgBD,GAjBD;AAkBD,C,CAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["export function fetchSuccess(key){\r\n  return {\r\n    type: 'PERSONS_FETCH_DATA_SUCCESS',\r\n    key\r\n  }\r\n}\r\n\r\nexport function authorisation(url, data){\r\n  return (dispatch) => {\r\n    return fetch(url, {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n      headers: new Headers({\r\n        'Content-Type': 'application/json'\r\n      }),\r\n    })\r\n    .then(response =>{\r\n      if(!response.ok){\r\n        throw new Error(response.statusText)\r\n      }\r\n      return response;\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => console.log(data))\r\n    .then(key => dispatch(testSuccsess(key)))\r\n  }\r\n}\r\n\r\n\r\n// post('/auth', {login: 'Login', password:'4'})\r\n//   .then(data => console.log(data))      // обрабатываем результат вызова response.json()\r\n//   .catch(error => console.error(error))\r\n//\r\n// function post(url, data) {\r\n//   return fetch(url, {\r\n//     credentials: 'same-origin',  // параметр определяющий передвать ли разные сессионные данные вместе с запросом\r\n//     method: 'POST',              // метод POST\r\n//     body: JSON.stringify(data),  // типа запрашиаемого документа\r\n//     headers: new Headers({\r\n//       'Content-Type': 'application/json'\r\n//     }),\r\n//   })\r\n//   .then(response => response.json()) // возвращаем промис\r\n// }\r\n"]},"metadata":{},"sourceType":"module"}